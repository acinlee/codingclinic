{% extends "acincodingclinic/base.html" %}
{% load static %}
{% block content %}
<link rel="stylesheet" type="text/css" href="{% static 'acincodingclinic/css/style.css' %}">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
<!--나눔 고딕-->
<link href="https://fonts.googleapis.com/css?family=Nanum+Gothic&display=swap" rel="stylesheet">
<!--주영's 아이콘-->
<script src="https://kit.fontawesome.com/01bdf36058.js"></script>
  <div class="container-fluid coachingmain">
    <div class="row">
      <div class="col-md-1">
      </div>
      <div class="col-md-10">
        <div class="form-group" style="padding-top:3%;">
          <label style="font-weight:600; font-size:42px; color:#4d4d4d;">커뮤니티</label><label style="font-size:18px; color:#7c7c7c; padding-left:0.8%;">코딩클리닉 회원만이 누릴 수 있는 소통 공간</label>
          <div style="margin-top:0.3%; background-color:white; border-top: 1.5px solid #B0C4DE; border-right: 1.5px solid #B0C4DE; border-left: 1.5px solid #B0C4DE; border-bottom: 1.5px solid #B0C4DE; border-radius:10px 10px 10px 10px; ">
            <div style="padding-top:3%; padding-bottom:3%; padding-left:6%; font-size:23px;">
              <div style="padding-bottom:2%;">코딩클리닉의 새로운 소식을 확인해 보세요!</div>
              <div>
                <b style="color:#0081ff">욕설, 비방, 광고, 허위사실 유포 등 부적절한 내용</b>의 게시글은 관리자 권한으로 <b style="color:#0081ff">강제 삭제 및 계정 정지등의 불이익</b>이 있을 수 있습니다.
                <br>회원들이 서로의 멘토, 멘티가 되어 다양한 지식을 공유하는 문화를 조성하기 위한 게시판입니다.
              </div>  
            </div>
          </div>
        </div>
        <div class="form-group" style="text-align:center; padding-left:1%; padding-top:1.5%; font-size:18px;">
          <div class="row">
            <div class="col-md-1.3" id="all_type">
              <a href="{% url 'acincodingclinic:SelectBoard' type_num=0 page_num=1 %}"><label id="all_type_a" style="padding-top:20%; cursor:pointer;">전체</label></a>
            </div>
            <div class="col-md-1.3" id="C_type">
              <a href="{% url 'acincodingclinic:SelectBoard' type_num=1 page_num=1 %}"><label id="C_type_a" style="padding-top:20%; cursor:pointer;">C</label></a>
            </div>
            <div class="col-md-1.3" id="Cplus_type">
              <a href="{% url 'acincodingclinic:SelectBoard' type_num=2 page_num=1 %}"><label id="Cplus_type_a" style="padding-top:20%; cursor:pointer;">C++</label></a>
            </div>
            <div class="col-md-1.3" id="Cshop_type">
              <a href="{% url 'acincodingclinic:SelectBoard' type_num=3 page_num=1 %}"><label id="Cshop_type_a" style="padding-top:20%; cursor:pointer;">C#</label></a>
            </div>
            <div class="col-md-1.3" id="Python_type" >
              <a href="{% url 'acincodingclinic:SelectBoard' type_num=4 page_num=1 %}"><label id="Python_type_a" style="padding-top:20%; cursor:pointer;">Python</label></a>
            </div>
            <div class="col-md-1.3" id="JAVA_type">
              <a href="{% url 'acincodingclinic:SelectBoard' type_num=5 page_num=1 %}"><label id="JAVA_type_a" style="padding-top:20%; cursor:pointer;">JAVA</label></a>
            </div>
            <div class="col-md-1.3" id="WEB_type">
              <a href="{% url 'acincodingclinic:SelectBoard' type_num=7 page_num=1 %}"><label id="WEB_type_a" style="padding-top:20%; cursor:pointer;">DB</label></a>
            </div>
            <div class="col-md-1.3" id="DB_type">
              <a href="{% url 'acincodingclinic:SelectBoard' type_num=6 page_num=1 %}"><label id="DB_type_a" style="padding-top:20%; cursor:pointer;">WEB</label></a>
            </div>
            <div class="col-md-1.3" id="anything_type">
              <a href="{% url 'acincodingclinic:SelectBoard' type_num=8 page_num=1 %}"><label id="anything_type_a" style="padding-top:20%; cursor:pointer;">기타</label></a>
            </div>
          </div>
        </div>
        <div class="form-group" style="padding-top:1.5%; vertical-align:middle; font-size:18px;">
        <form name="board_find_form" style="display:inline;" action="{% url 'acincodingclinic:findBoard' %}" method="POST" enctype="multipart/form-data" >
          {% csrf_token %}
          <select class="mdb-select md-form" id="board_find" name="board_find" style="width:10%; height:50px; text-align-last:center;">
            <option value="제목">제목</option>
            <option value="내용">내용</option>
          </select>
          <input type="text" id="board_content_find" name="board_content_find" style="position:relative; left:1%; width:30%; height:50px;" placeholder="   찾고 싶은 내용을 적어주세요">
          <img src="{% static 'acincodingclinic/img/design/magnifyingglass.png'%}" onclick="findcontent();" style="cursor:pointer; position:relative; vertical-align:middle; right:2.3%; width:2%; height:2%;">
        </form>
        <form name="board_sort_form" style="display:inline;" action="{% url 'acincodingclinic:sortBoard' %}" method="POST" enctype="multipart/form-data" >
          {% csrf_token %}
          <select class="mdb-select md-form" id="board_sort" name="board_sort" onchange="sortcontent();" style="position:relative; left:47%; width:10%; height:50px; text-align-last:center;">
          {% if sort_numeber == 1 %}
            <option value="역순">역순</option>
            <option value="최신순">최신순</option>
          {% else %}
            <option value="최신순">최신순</option>
            <option value="역순">역순</option>
          {% endif %}
          </select>
        </form>
        </div>
        <div class="form-group">
          <table class="table" style="font-size:18px; border-top: 1px solid; border-bottom: 1px solid #dee2e6; text-align:center;">
            <thead>
              <tr>
                <th scope="col" style="width:10%;">번호</th>
                <th scope="col" style="width:10%;">분류</th>
                <th scope="col" style="width:10%;">작성자</th>
                <th scope="col" style="width:50%;">제목</th>
                <th scope="col" style="width:10%;">등록일</th>
                <th scope="col" style="width:10%;">조회수</th>
              </tr>
            </thead>
            <tbody>
            {% for board_content in posts %}
              {% csrf_token %}
                <div>
                  <tr>
                    <ul>
                      <td>{{ board_content.id }}</td>
                      <td>{{ board_content.get_Board_ClassCode_display}}</td>
                      <td>{{ board_content.Board_User }}</td>
                      <td style="text-align:left; color:red;"><a href="{% url 'acincodingclinic:viewBoard' board_content.id %}" style="text-decoration:none !important; color:black;">{{ board_content.Board_Title }}</a>({{board_content.comment.count}})</td>
                      <td>{{ board_content.Board_CreateDate|date:"Y/m/d" }}</td>
                      <td>{{ board_content.Board_hits }}</td>
                    </ul>
                  </tr>
                </div>
              {% endfor %}
              </tbody>
          </table>
        </div>
        <div class="row" style=" vertical-align:middle">
          <div class="col-md-2">
          </div>
          <div class="col-md-8" style="padding-top:2%; text-align:center;">
              {% if posts.has_other_pages %}
                  {% if posts.has_previous %}
                    <a style="color:#4d4d4d" href="?page={{ posts.previous_page_number }}"><i class="fas fa-angle-left"></i></a>
                  {% else %}
                    <i style="color:#4d4d4d" class="fas fa-angle-left"></i>
                  {% endif %}
                  <span>|<span>
                  {% for i in posts.paginator.page_range %}
                    {% if posts.number == i %}
                      <span style="color:#0081ff">{{ i }} <span class="sr-only">(current)</span></span>
                    {% else %}
                      <a style="color:#4d4d4d" href="?page={{ i }}">{{ i }}</a>
                    {% endif %}
                    <span>|<span>
                  {% endfor %}
                  {% if posts.has_next %}
                    <a style="color:#4d4d4d" href="?page={{ posts.next_page_number }}"><i class="fas fa-angle-right"></i></a>
                  {% else %}
                    <span style="color:#4d4d4d"><i class="fas fa-angle-right"></i></span>
                  {% endif %}
              {% endif %}
          </div>
          <div class="col-md-2" style="text-align:right;">
            {% if request.session.cdc_id %}
              <a class="btn btn-outline btn-sm m-0" style="background-color:#dee2e6; width:40%; font-size:18px" href="{% url 'acincodingclinic:write_board' %}">작성하기</a>
            {% endif %}
          </div>
        </div>
        <div style="text-align:center; font-size:20px; padding-top:3%;">
          <b>원하는 정보를 찾지 못하셨나요?</b> <b style="color:#0081ff">1:1코칭으로 도와드릴게요!</b>
        </div>
        <div style="text-align:center; padding-top:1%; padding-bottom:3%;">
          <div id="coaching_add_button2" style="text-align:center; margin-left:43%; font-weight:600; margin-top:1.5%; font-size:20px; padding-right:0.2%; padding-left:0.2%; padding-top:0.2%; padding-bottom:0.2%; margin-bottom:3%; border-radius:16px; background-color:#0081ff; color:#ffffff; cursor: pointer; width:13%;">
              <a style="text-decoration:none !important; color:white;" href="{%url 'acincodingclinic:Coaching_menu' 1%}"><div id="answer" name="answer" style="border: 1px solid #ffffff; padding-top:6%; padding-bottom:6%; border-radius:16px;">1:1코칭 바로가기</div></a>
          </div>
        </div>
      </div>
      <div class="col-md-1">
      </div>
    </div>
  </div>
<script>

  function findcontent(){
    document.board_find_form.submit();
  }
  function sortcontent(){
    document.board_sort_form.submit();
  }

  $( document ).ready(function() {
    if('{{type_num}}' == 0){
      $("#all_type").addClass( 'typeactive' );
      $("#all_type_a").addClass( 'typecolor' );
    }
    else if('{{type_num}}' == 1){
      $("#C_type").addClass( 'typeactive' );
      $("#C_type_a").addClass( 'typecolor' );
    }
    else if('{{type_num}}' == 2){
      $("#Cplus_type").addClass( 'typeactive' );
      $("#Cplus_type_a").addClass( 'typecolor' );
    }
    else if('{{type_num}}' == 3){
      $("#Cshop_type").addClass( 'typeactive' );
      $("#Cshop_type_a").addClass( 'typecolor' );
    }
    else if('{{type_num}}' == 4){
      $("#Python_type").addClass( 'typeactive' );
      $("#Python_type_a").addClass( 'typecolor' );
    }
    else if('{{type_num}}' == 5){
      $("#JAVA_type").addClass( 'typeactive' );
      $("#JAVA_type_a").addClass( 'typecolor' );
    }
    else if('{{type_num}}' == 6){
      $("#DB_type").addClass( 'typeactive' );
      $("#DB_type_a").addClass( 'typecolor' );
    }
    else if('{{type_num}}' == 7){
      $("#WEB_type").addClass( 'typeactive' );
      $("#WEB_type_a").addClass( 'typecolor' );
    }
    else if('{{type_num}}' == 8){
      $("#anything_type").addClass( 'typeactive' );
      $("#anything_type_a").addClass( 'typecolor' );
    }
  });
</script>
{% endblock %}
